diff --git a/CMakeLists.txt b/CMakeLists.txt
index 928bf85ed..983c29f84 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -237,6 +237,7 @@ if(NOT MSVC)
             message(FATAL_ERROR "No audio library found. Please install PulseAudio, ALSA or JACK.")
         endif()
     endif()
+    list(APPEND PKG_CONFIG_EXECUTABLE "--static")
 endif()
 
 ################################################################################
@@ -365,7 +366,7 @@ elseif(MSVC)
    endif()
 endif()
 
-add_library(${PROJECT_NAME} STATIC ${ALL_FILES})
+add_library(${PROJECT_NAME} SHARED ${ALL_FILES})
 
 set_target_properties(${PROJECT_NAME} PROPERTIES FOLDER "daemon")
 
@@ -385,6 +386,7 @@ target_compile_definitions(${PROJECT_NAME} PRIVATE
 target_compile_definitions(${PROJECT_NAME} PUBLIC
     ASIO_STANDALONE
     MSGPACK_NO_BOOST
+    jami_EXPORTS
 )
 if (JAMI_VIDEO)
     target_compile_definitions(${PROJECT_NAME} PRIVATE ENABLE_VIDEO)
@@ -683,7 +685,7 @@ else()
         target_link_libraries(${PROJECT_NAME} PRIVATE PkgConfig::udev)
         if (pulseaudio_FOUND)
             target_compile_definitions(${PROJECT_NAME} PRIVATE HAVE_PULSE)
-            target_link_libraries(${PROJECT_NAME} PRIVATE PkgConfig::pulseaudio)
+            target_link_libraries(${PROJECT_NAME} PUBLIC PkgConfig::pulseaudio)
         endif()
         if (alsa_FOUND)
             target_compile_definitions(${PROJECT_NAME} PRIVATE HAVE_ALSA)